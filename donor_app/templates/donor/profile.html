{% extends 'base.html' %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'donor/style.css' %}">

<div class="donor-container">

    <div class="donor-card">

        <h2 class="donor-title">My Donor Profile</h2>

        <p><strong>Username:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Total Donated:</strong> KES {{ total_donated }}</p>

        <hr class="text-light">

        <h4 class="mb-3">My Donation History</h4>

        {% if donations %}
        <table class="table table-dark table-striped">
            <tr>
                <th>Case</th>
                <th>Amount</th>
                <th>Date</th>
            </tr>
            {% for donation in donations %}
            <tr>
                <td>{{ donation.case.title }}</td>
                <td>KES {{ donation.amount }}</td>
                <td>{{ donation.date|date:"M d, Y" }}</td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <p class="text-muted">You have not made any donations yet.</p>
        {% endif %}

    </div>

</div>

{% endblock %}